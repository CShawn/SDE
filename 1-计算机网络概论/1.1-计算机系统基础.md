# 计算机系统基础
## 计算机硬件组成
运算器、控制器（两者被集成在一起统称中央处理单元CPU）、存储器、输入设备、输出设备。

## 中央处理单元
CPU(Central Processing Unit)负责获取程序指令、对指令进行译码并加以执行。

### CPU的功能
1. 程序控制
2. 操作控制
3. 时间控制
4. 数据处理
5. 中断、异常处理

### CPU的组成
主要由运算器、控制器、寄存器组、内部总线组成。

#### 运算器
由算术逻辑单元ALU、累加寄存器AC、数据缓冲寄存器DR、状态条件寄存器PSW等组成，用于各种算术运算和逻辑运算。

#### 控制器
由指令寄存器IR、程序计数器PC、地址寄存器AR、指令译码器ID组成。

包括指令控制逻辑、时序控制逻辑、总线控制逻辑、中断控制逻辑。

#### 寄存器组
寄存器组分为专用寄存器和通用寄存器。运算器和控制器是专用寄存器。

### 多核CPU
AMD将两个内核做在一个晶元上，通过直连架构连接起来，集成度更高，称为“双核”；Intel将放在不同核心上的两个内核封装在一起，称为“双芯”。AMD方案可使双核CPU的管脚、功耗和单核一致，不需更换电源等硬件只需刷新BIOS软件即可。

## 数据表示
原码：二进制数，有符号数的首位表示符号。+0和-0不同。
反码：正数不变；负数符号位不变，其余位取反。
补码：正数不变；负数为反码+1。+0和-0相同为0。
移码：字长为N的偏移量为2^(N-1)，即正负数都为将其补码的符号位取反。

### 定点数和浮点数
定点数：小数点在最高有效数值位之前。
浮点数：小数点位置不固定，表示格式为：阶符|阶码|数符|尾数

浮点数能表示数的范围由阶码决定，精度由尾数决定。通常采用规格化将尾数的绝对值限定在区间[0.5, 1]。

#### IEEE754
工业标准IEEE754规定，浮点数表示为："阶符|阶码|尾数"，阶符0为正，1为负；指数（阶码）用移码表示（偏移量为2^N - 1）；尾数用原码表示。单精度浮点数指数长度为8，尾数长度为23；可表示10^-38~10^38，双精度数指数长度为11，尾数长度为52，可表示10^-308~10^308。

IEEE754规定下的值大部分为规格化的值，另外有：
- 非规格化的值：当所有位上数都为0时，表示0，符号为1时表示-0。
- 特殊值：阶码全为1，表示特殊值，此时尾数全为0表示无穷大，由符号位决定表示正负无穷大；当尾数不全为0时，表示NaN。

## 校验码
### 奇偶校验码
校验传输的数据中1的个数为奇数或偶数。可以用来校验数据是否发生了变化，但无法得知哪里发生了变化，亦无法修复。

### 海明码
在数据位之间的特定位置上插入k个校验位，通过扩大码距来实现检错和纠错。

### 循环冗余校验码CRC
为k个数据位生成r个校验位使用编码长度为k+r，又称为(n, k)码。

选定的某个特定数（根据多项式生成，如x^4+x^3+1，x为2即对应11001）为N位二进制数，将数据后拼接N-1个0，再将此数对特定数进行“模2除法”（作除法时直接相减，不考虑借位），将得到的余数补足N-1位（前边补0）。接收端收到数据后，对特定数进行“模2除法”，验证是否有余数，为0则数据正常。